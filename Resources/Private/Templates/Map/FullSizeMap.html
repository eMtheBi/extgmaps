{namespace ext=Emthebi\Extgmaps\ViewHelpers}
<f:layout name="FullSizeMap" />
<f:section name="main">

    <ext:css src="FullScreenMap" />
    <ext:javaScript>
        var mapObjects = [];
    </ext:javaScript>
    <ext:javaScript footer="1">
        var mapData = new Object();
        mapData.extGMapType ='{extGMapType}';
        mapData.disableMapScrolling = {disableScrollWheelOnMap};
        mapData.contentId ='{contentId}';
        mapData.mapDataJson = {mapObjectsAsJson -> f:format.htmlentitiesDecode()};
        mapData.defaultGeoCoordinates = {mapDefaultGeoData -> f:format.htmlentitiesDecode()};
        mapData.gridSize = '{gridSize}';
        mapData.mapType = '{mapType}';
        mapObjects.push(mapData);

        var extGMapType = 'extGMapType';
        var disableMapScrolling = {disableScrollWheelOnMap};
        var currentSiteOffset;
        var treeSliderSlideOut;
        var treeSliderSlideIn;
    </ext:javaScript>

    <ext:css src="Map"/>
    <ext:javaScript src="infobox" footer="1" />
    <ext:javaScript src="markerclusterer" footer="1" />
    <ext:javaScript src="extGMaps" footer="1" />
    <ext:javaScript src="themeTree" footer="1" />

    <ext:javaScript src="ThemeTreeSlider" footer="1"/>
    <ext:javaScript src="FullSizeMap" footer="1" />

    <div class="js_fullSizeMapContainer" style="display:none">
        <f:render partial="InfoBox"/>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>

        <script type="text/javascript">

            var mapDataJson = {mapObjectsAsJson -> f:format.htmlentitiesDecode()};
            var defaultGeoCoordinates = {mapDefaultGeoData -> f:format.htmlentitiesDecode()};
            var gridSize = '{gridSize}';
            var mapType = '{mapType}';

        </script>



        <f:render partial="Tree" arguments="{_all}" />


        <div id="js_extGMaps" class="map {extGMapType}"></div>
    </div>
    <div class="js_toogleMapContainer"><f:image src="{f:uri.resource(path:'Images/globe.png')}" alt=""/></div>
    <div class="js_fullScreeButton fullScreeButton"><f:image src="{f:uri.resource(path:'Images/fullscreen.png')}" alt=""/></div>
</f:section>
